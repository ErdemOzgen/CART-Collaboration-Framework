<!DOCTYPE html>
<html lang="en">
{% include 'header.html' %}
<body>
<script>
    $(function () {
        $('.message .close')
            .on('click', function () {
                $(this)
                    .closest('.message')
                    .transition('fade')
                ;
            });
    });
</script>
<style>
    .ui.selection.dropdown {
        min-width: 100%;
    }

    .ui.menu {
        margin-top: 0px;
    }

</style>
{% include 'menu.html' %}
<h2 class="ui dividing header">Register account:</h2>
<form class="ui form" style="max-width: 30%" method="POST" action="/register">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="ui field">
        <div class="ui labeled input">
            <div class="ui label" style="width: 160px">
                <i class="envelope icon"></i>Email:
            </div>
            <input type="email" name="email" placeholder="admin@localhost" required>
        </div>
    </div>

    <div class="ui field">
        <div class="ui labeled input">
            <div class="ui label" style="width: 160px">
                <i class="key icon"></i>Password:
            </div>
            <input type="password" name="password1" placeholder="password" required>
        </div>
    </div>

    <div class="ui field">
        <div class="ui labeled input">
            <div class="ui label">
                <i class="key icon"></i>Repeat password:
            </div>
            <input type="password" name="password2" placeholder="repeat password" required>
        </div>
    </div>

    <button type="submit" class="ui primary button"><i class="plus icon"></i>Register</button>

    {% if error is defined and error != None %}
        <div class="ui error message visible">
            <i class="close icon"></i>
            <div class="header">
                There were some errors with registration
            </div>
            <ul class="list">
                <li>{{ error }}</li>
            </ul>
        </div>
    {% elif form is defined %}
        <div class="ui success message visible">
            <i class="close icon"></i>
            <div class="header">
                Registration was successful.
            </div>
            <p>Will redirect you in 3 seconds!</p>
        </div>
        <script>
            setTimeout(function () {
                window.location.href = '/login';
            }, 3000);
        </script>
    {% endif %}

</form>
{% include 'footer.html' %}
</body>
</html>